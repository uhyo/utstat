// Generated by CoffeeScript 1.7.1
(function() {
  var argv, here, option, parseArgs, path, pos, silent, utstat;

  path = require('path');

  parseArgs = require('minimist');

  utstat = require('../src');

  argv = parseArgs(process.argv.slice(2), {
    boolean: ["h", "here", "s", "silent"]
  });

  here = argv.h || argv.here;

  silent = argv.s || argv.silent;

  pos = argv._[0];

  if (pos != null) {
    pos = path.resolve(process.cwd(), pos);
  } else if (here) {
    pos = process.cwd();
  }

  option = {};

  if (silent) {
    option.log_level = 0;
  } else {
    option.log_level = 1;
  }

  if (pos != null) {
    option.parseTop = pos;
  }

  utstat.build(pos != null ? pos : process.cwd());

}).call(this);
